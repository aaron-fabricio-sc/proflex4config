/*
 jQuery Transit - CSS3 transitions and transformations
 (c) 2011-2014 Rico Sta. Cruz
 MIT Licensed.

 http://ricostacruz.com/jquery.transit
 http://github.com/rstacruz/jquery.transit

 Modified by PF4 UI Team:
 - Add stopTransition opportunity solution taken from commit at March 2020
 https://github.com/rstacruz/jquery.transit/pull/236/commits/52b4790104d8caec15ba42debdba298e02bba725
 because unfortunately no one merges fixes or improvements anymore since 6 years for this project.
 Enhancement become necessary since a running transition can't be stopped otherwise and callback functions are called
 but the current context may change in the meantime.
*/
(function(d,k){"function"===typeof define&&define.amd?define(["jquery"],k):"object"===typeof exports?module.exports=k(require("jquery")):k(d.jQuery)})(this,function(d){function k(a){if(a in l.style)return a;var b=["Moz","Webkit","O","ms"];a=a.charAt(0).toUpperCase()+a.substr(1);for(var c=0;c<b.length;++c){var d=b[c]+a;if(d in l.style)return d}}function p(a){"string"===typeof a&&this.parse(a);return this}function u(a,b,c){!0===b?a.queue(c):b?a.queue(b,c):a.each(function(){c.call(this)})}function x(a){var b=
[];d.each(a,function(a){a=d.camelCase(a);a=d.transit.propertyMap[a]||d.cssProps[a]||a;a=v(a);e[a]&&(a=v(e[a]));-1===d.inArray(a,b)&&b.push(a)});return b}function w(a,b,c,e){a=x(a);d.cssEase[c]&&(c=d.cssEase[c]);var g=""+t(b)+" "+c;0<parseInt(e,10)&&(g+=" "+t(e));var n=[];d.each(a,function(a,b){n.push(b+" "+g)});return n.join(", ")}function f(a,b){b||(d.cssNumber[a]=!0);d.transit.propertyMap[a]=e.transform;d.cssHooks[a]={get:function(b){return d(b).css("transit:transform").get(a)},set:function(b,e){var c=
d(b).css("transit:transform");c.setFromString(a,e);d(b).css({"transit:transform":c})}}}function v(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function m(a,b){return"string"!==typeof a||a.match(/^[\-0-9\.]+$/)?""+a+b:a}function t(a){"string"!==typeof a||a.match(/^[\-0-9\.]+/)||(a=d.fx.speeds[a]||d.fx.speeds._default);return m(a,"ms")}d.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",
paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var l=document.createElement("div"),e={},y=-1<navigator.userAgent.toLowerCase().indexOf("chrome");e.transition=k("transition");e.transitionProp=k("transitionProperty");e.transitionDelay=k("transitionDelay");e.transform=k("transform");e.transformOrigin=k("transformOrigin");e.filter=k("Filter");l.style[e.transform]="";l.style[e.transform]="rotateY(90deg)";e.transform3d=""!==l.style[e.transform];var r=
e.transitionEnd={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"}[e.transition]||null,q;for(q in e)e.hasOwnProperty(q)&&"undefined"===typeof d.support[q]&&(d.support[q]=e[q]);l=null;d.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",
easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",
easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};d.cssHooks["transit:transform"]={get:function(a){return d(a).data("transform")||new p},set:function(a,
b){var c=b;c instanceof p||(c=new p(c));a.style[e.transform]="WebkitTransform"!==e.transform||y?c.toString():c.toString(!0);d(a).data("transform",c)}};d.cssHooks.transform={set:d.cssHooks["transit:transform"].set};d.cssHooks.filter={get:function(a){return a.style[e.filter]},set:function(a,b){a.style[e.filter]=b}};"1.8">d.fn.jquery&&(d.cssHooks.transformOrigin={get:function(a){return a.style[e.transformOrigin]},set:function(a,b){a.style[e.transformOrigin]=b}},d.cssHooks.transition={get:function(a){return a.style[e.transition]},
set:function(a,b){a.style[e.transition]=b}});f("scale");f("scaleX");f("scaleY");f("translate");f("rotate");f("rotateX");f("rotateY");f("rotate3d");f("perspective");f("skewX");f("skewY");f("x",!0);f("y",!0);p.prototype={setFromString:function(a,b){var c="string"===typeof b?b.split(","):b.constructor===Array?b:[b];c.unshift(a);p.prototype.set.apply(this,c)},set:function(a){var b=Array.prototype.slice.apply(arguments,[1]);this.setter[a]?this.setter[a].apply(this,b):this[a]=b.join(",")},get:function(a){return this.getter[a]?
this.getter[a].apply(this):this[a]||0},setter:{rotate:function(a){this.rotate=m(a,"deg")},rotateX:function(a){this.rotateX=m(a,"deg")},rotateY:function(a){this.rotateY=m(a,"deg")},scale:function(a,b){void 0===b&&(b=a);this.scale=a+","+b},skewX:function(a){this.skewX=m(a,"deg")},skewY:function(a){this.skewY=m(a,"deg")},perspective:function(a){this.perspective=m(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(a,b){void 0===this._translateX&&
(this._translateX=0);void 0===this._translateY&&(this._translateY=0);null!==a&&void 0!==a&&(this._translateX=m(a,"px"));null!==b&&void 0!==b&&(this._translateY=m(b,"px"));this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");a[0]&&(a[0]=parseFloat(a[0]));a[1]&&(a[1]=parseFloat(a[1]));return a[0]===a[1]?a[0]:a},rotate3d:function(){for(var a=(this.rotate3d||
"0,0,0,0deg").split(","),b=0;3>=b;++b)a[b]&&(a[b]=parseFloat(a[b]));a[3]&&(a[3]=m(a[3],"deg"));return a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(a,d,e){b.setFromString(d,e)})},toString:function(a){var b=[],c;for(c in this)this.hasOwnProperty(c)&&(e.transform3d||"rotateX"!==c&&"rotateY"!==c&&"perspective"!==c&&"transformOrigin"!==c)&&"_"!==c[0]&&(a&&"scale"===c?b.push(c+"3d("+this[c]+",1)"):a&&"translate"===c?b.push(c+"3d("+this[c]+",0)"):b.push(c+"("+this[c]+")"));
return b.join(" ")}};d.fn.transition=d.fn.transit=function(a,b,c,n){var g=this,f=0,k=!0,h=d.extend(!0,{},a);"function"===typeof b&&(n=b,b=void 0);"object"===typeof b&&(c=b.easing,f=b.delay||0,k="undefined"===typeof b.queue?!0:b.queue,n=b.complete,b=b.duration);"function"===typeof c&&(n=c,c=void 0);"undefined"!==typeof h.easing&&(c=h.easing,delete h.easing);"undefined"!==typeof h.duration&&(b=h.duration,delete h.duration);"undefined"!==typeof h.complete&&(n=h.complete,delete h.complete);"undefined"!==
typeof h.queue&&(k=h.queue,delete h.queue);"undefined"!==typeof h.delay&&(f=h.delay,delete h.delay);"undefined"===typeof b&&(b=d.fx.speeds._default);"undefined"===typeof c&&(c=d.cssEase._default);b=t(b);var m=w(h,b,c,f),l=d.transit.enabled&&e.transition?parseInt(b,10)+parseInt(f,10):0;if(0===l)return u(g,k,function(a){g.css(h);n&&n.apply(g);a&&a()}),g;var p={},q=function(a){var b=!1,c=function(){b&&g.unbind(r,c);0<l&&g.each(function(){this.style[e.transition]=p[this]||null});"function"===typeof n&&
n.apply(g);"function"===typeof a&&a()};if(0<l&&r&&d.transit.useTransitionEnd)b=!0,g.bind(r,c);else{var f=window.setTimeout(c,l);g.data("timerCallback",f)}g.each(function(){0<l&&(this.style[e.transition]=m);d(this).css(h)})};u(g,k,function(a){this.offsetWidth;q(a)});return this};d.fn.stopTransition=d.fn.stopTransit=function(a){this.each(function(b,c){var f=d(this),g=this.style[e.transitionProp].replace(/\s+/g,"");if(g&&0!==g.length){var k=window.getComputedStyle(this);g=g.split(",");for(var l=0;l<
g.length;l++){var h=g[l];this.style[h]=k[h]}}this.style[e.transitionProp]="";this.style[e.transition]="none";!0===a&&(k=c.data("transitCallback"))&&k();f.data("transitCallback",null);d.transit.useTransitionEnd?f.unbind(r):window.clearTimeout(f.data("timerCallback"));f.clearQueue()});return this};d.transit.getTransitionValue=w;return d});